#summary A tutorial on how to use JDNA.

= Using JDNA =
This tutorial explains how to use JDNA to compress DNA sequences based on a representative reference.


== Basic usage ==
usage:

{{{
$ java -jar JDNA.jar <TASK> <REFERENCE> <INPUT> <OUTPUT>
}}}
 
arguments:

  * TASK:	The task to be executed (COMPRESS, or DECOMPRESS)
  * REFERENCE:	The path to the file containing the reference sequence
  * INPUT:	The path to the to-be-compressed or decompressed file 
  * OUTPUT:	The path to the resulting (de)compressed file 

example:
{{{
$ java -jar JDNA.jar COMPRESS human_g1k_v37.fasta HG01390.fasta HG01390.compressed
}}}

{{{
$ java -jar JDNA.jar DECOMPRESS human_g1k_v37.fasta HG01390.compressed HG01390.fasta
}}}

== Customizing JDNA ==
JDNA allows users to provide a configuration file (_config.ini_) in the same folder as the JAR file with customized values for the following parameters:
|| Parameter || Default value || Description ||
|| kmer_size || 20 || Size of k-mer when indexing the reference (in bp) ||
|| search_window || 120 || Window size for brute-force searches (in bp) ||
|| index_window || 200 || Window size for indexed searches (in bp) ||
|| dcmp_mem || 1 || Maximum amount of memory to be used during decompression (in MB) ||
|| block_size || 250 || Size of each reference block to be loaded to the main memory (in MB) ||

example:
{{{
kmer_size=20
search_window=120 
index_window=200 
dcmp_mem=1 - this value is in MB 
block_size=250 - this value is in MB 
}}}

#Test case

From the folder JDNA download the JDNA.jar, config,ini, ref_ex.raw and inp_ex.raw.

To test compression run:

java -jar JDNA.jar COMPRESS ref_ex.raw inp_ex.raw cmp.raw

Then you can test decompression runnin:

java -jar JDNA.jar DECOMPRESS ref_ex.raw cmp.raw dcmp.raw.

Once both tasks are complete, you can use md5sum to verify that the decompresses file matches the input file:

md5sum inp_ex.raw dcmp.raw